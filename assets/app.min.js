$(function(){$("#origami").bind("tap",!1);var g=$.support.touch,q=g?"touchstart":"mousedown",r=g?"touchend":"mouseup",t={number:function(a){return a},hour:function(a){return a+"h"},hourMinute:function(a){var d=Math.floor(a),a=Math.floor(60*(a-d));a<10&&(a="0"+a);return d+"h"+a}},n={number:function(a){return function(d){a(parseFloat($.trim(this.value)),d.type==="blur")}},hourMinute:function(a){return function(d){var e=this.value.split("h"),h=parseFloat($.trim(e[0])),e=e[1]?parseFloat($.trim(e[1])):
0;a(h+e/60,d.type==="blur")}}},u={K:1,M:1E3},v=/^([0-9]+)(K|M)$/,w=$("#origami-result"),h=[];n.hour=n.hourMinute;$(".origami-count").each(function(a){function d(b,d){var e;isNaN(b)?b=o:(b/i>Math.floor(b/i)&&(b=(Math.floor(b/i)+1)*i),e=b>=0&&b<=p);if(d!==void 0||e){b<0?b=0:b>p&&(b=p);h[a]=(o=b)*l;d!==!1&&m.val(b?y(b):"-");for(var c=0,f=0,g=h.length;f<g;f++)c+=h[f];c&&(c=c<1E3?"< 1":Math.ceil(c/1E3));w.text(c+" Mo par mois")}return e}function e(a){return function x(){d(o+a*i)?(j?(f/=2,f<80&&(f=80)):
f=1E3,j=setTimeout(x,f)):g();return!1}}function g(){j&&(clearTimeout(j),j=f=void 0)}var m=$(this),c=m.data(),o=h[a]=0,i=1*c.origamiIncrement,p=1*c.origamiMax,l=v.exec(c.origamiBandwidth),y=t[c.origamiFormat],c=n[c.origamiFormat](d),k=m.siblings(".origami-control-panel"),s=$(".origami-plus",k),k=$(".origami-minus",k),j,f;m.bind("keyup blur",c);l=l[1]*u[l[2]];s.bind(q,e(1));k.bind(q,e(-1));s.add(k).bind(r,g).bind("vmouseout vmousecancel",function(){$(this).trigger(r)})})});